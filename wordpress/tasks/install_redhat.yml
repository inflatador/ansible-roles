---
- name: Include RedHat Vars
  include_vars: RedHat.yml

- name: Install dependencies
  yum:
    name: '{{ item }}'
    state: present
  with_items: '{{ wordpress_dependencies }}'

- name: Create .my.cnf
  template:
    backup: yes
    dest: ~root/.my.cnf
    src: my.cnf.j2

- name: enable remi
  command: yum install http://rpms.remirepo.net/enterprise/remi-release-7.rpm -y
  args:
    warn: no

- name: disable php54
  command: yum-config-manager --disable remi-php54
  args:
    warn: no 

- name: enable php73
  command: yum-config-manager --enable remi-php73
  args:
    warn: no
